<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - School Portal</title>
    <link rel="stylesheet" href="/assets/css/admin.css"> 
    <script src="/assets/js/admin.js" defer></script> 
</head>
<body>

    <header>
        <h1>Admin Dashboard</h1>
        <nav>
            <a href="index.html">Home</a> | 
            <a href="teacher_dashboard.html">Teacher Dashboard</a> | 
            <a href="student_dashboard.html">Student Dashboard</a> | 
            <a href="check_results.html">Check Results</a> | 
            <a href="logout.html">Logout</a>
        </nav>
    </header>

    <main>
        <section>
            <h2>Generate Student Scratch PINs</h2>
            <button onclick="generatePins()">Generate New PINs</button>
            <button onclick="downloadPins()" id="download-btn" style="display: none;">Download PINs</button>
            <ul id="pin-list"></ul>
        </section>

        <section>
            <h2>Google Login</h2>
            <div id="google-login-btn"></div>
            <p id="user-info"></p>
        </section>
    </main>

    <script>
        // Initialize Google Sign-In
        window.onload = function () {
            google.accounts.id.initialize({
                client_id: "766636262884-ummeaii04ebrs4f1uccng4e78f80cois.apps.googleusercontent.com",
                callback: handleCredentialResponse
            });

            google.accounts.id.renderButton(
                document.getElementById("google-login-btn"),
                { theme: "outline", size: "large" }
            );
        };

        function handleCredentialResponse(response) {
            console.log("Google Login Response:", response);
            const user = JSON.parse(atob(response.credential.split(".")[1]));
            document.getElementById("user-info").textContent = "Logged in as: " + user.name;
            alert("Welcome, " + user.name);
        }

        function generatePins() {
            alert("Generating new student scratch PINs...");
            const pinList = document.getElementById("pin-list");
            pinList.innerHTML = ""; 

            for (let i = 0; i < 5; i++) {
                const pin = Math.floor(100000 + Math.random() * 900000); 
                const listItem = document.createElement("li");
                listItem.textContent = pin;
                pinList.appendChild(listItem);
            }

            document.getElementById("download-btn").style.display = "block";
        }

        function downloadPins() {
            alert("Downloading PINs...");
        }
    </script>

</body>
</html>
